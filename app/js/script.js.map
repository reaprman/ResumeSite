{"version":3,"sources":["script.js"],"names":["prevFocusedElement","firstFocus","slideIdx","slides","document","getElementsByClassName","dots","firstRun","modal","getElementById","AOS","init","addEventListener","event","rage","modalTrap","nav","style","display","icon","querySelector","classList","contains","toggle","modalToggle","_this","id","window","target","focusableElement","querySelectorAll","Array","prototype","slice","call","lastFocus","length","keyCode","shiftKey","activeElement","preventDefault","focus","modalArrows","imgPath","add","fillModalImg","remove","imgArr","split","imgName","img1","concat","img2","img3","imgModal1","imgModal2","imgModal3","src","direction","displayModal","modalSelect","selection","idx","i"],"mappings":"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","file":"script.js","sourcesContent":["let slideIdx = 1;\r\nlet slides = document.getElementsByClassName('item');\r\nlet dots = document.getElementsByClassName('dot');\r\nlet firstRun = true;\r\nlet prevFocusedElement;\r\nlet firstFocus;\r\nconst modal = document.getElementById('modal');\r\n\r\nAOS.init();\r\ndocument.addEventListener('DOMContentLoaded', (event) => {\r\n    rage();\r\n    modalTrap(); \r\n});\r\ndocument.getElementsByClassName(\"mobile-nav-icon\")[0].addEventListener(\"click\", () =>{\r\n    let nav = document.getElementsByClassName(\"main-nav\")[0];\r\n    if(nav.style.display == \"none\" || nav.style.display == \"\"){\r\n        nav.style.display = \"inline-block\";\r\n    }else{\r\n        nav.style.display = \"none\";\r\n    }\r\n\r\n    let icon = document.querySelector(\".mobile-nav-icon i\");\r\n    if(icon.classList.contains(\"ion-md-menu\")){\r\n        icon.classList.toggle(\"ion-md-menu\");\r\n        icon.classList.toggle(\"ion-md-close\");\r\n    }else{\r\n        icon.classList.toggle(\"ion-md-menu\");\r\n        icon.classList.toggle(\"ion-md-close\");\r\n    }\r\n    \r\n    if(modal.classList.contains('show-modal')){\r\n        //modal.classList.toggle('show-modal');\r\n        // fix it here\r\n        modalToggle(this.id);\r\n    }\r\n})\r\n\r\nconst rage = () => {\r\n\r\n    window.addEventListener('click', function(event){\r\n        if(event.target.id ==\"modal\"){\r\n            modalToggle(this.id);\r\n        }\r\n    })\r\n}\r\n\r\ndocument.getElementsByClassName(\"main-nav\")[0].addEventListener('click',() =>{\r\n    if(modal.classList.contains('show-modal')){\r\n        modalToggle(this.id);\r\n    }\r\n})\r\nconst modalTrap = () => {\r\n    let focusableElementString = 'a[href], button:not([disabled])';\r\n    let focusableElement = modal.querySelectorAll(focusableElementString);\r\n    focusableElement = Array.prototype.slice.call(focusableElement);\r\n    firstFocus = focusableElement[0];\r\n    let lastFocus = focusableElement[focusableElement.length - 1];\r\n    modal.addEventListener('keydown', trapTapKey);\r\n\r\n    function trapTapKey(event){\r\n        if(event.keyCode == 9){\r\n            if(event.shiftKey){\r\n                if(document.activeElement == firstFocus){\r\n                    event.preventDefault();\r\n                    lastFocus.focus();\r\n                }\r\n            } else {\r\n                if(document.activeElement == lastFocus){\r\n                    event.preventDefault();\r\n                    firstFocus.focus();\r\n                }\r\n            }\r\n        }\r\n        if(event.keyCode == 39){\r\n            modalArrows(1);\r\n        }\r\n        if(event.keyCode == 37){\r\n            modalArrows(-1);\r\n        }\r\n        if(event.keyCode == 27){\r\n            modalToggle(this.id);\r\n        }\r\n    }\r\n}\r\n\r\nfunction modalToggle(imgPath){\r\n    prevFocusedElement = document.activeElement;\r\n    slides[slideIdx-1].classList.add('active');\r\n    dots[slideIdx-1].classList.add('dot-active');\r\n    if(!modal.classList.contains('show-modal')){\r\n       fillModalImg(imgPath); \r\n    }\r\n    let icon = document.querySelector(\".mobile-nav-icon i\");\r\n    let nav = document.getElementsByClassName(\"main-nav\")[0];\r\n    if(icon.classList.contains('ion-md-close') && firstRun == true){\r\n        nav.style.display = \"none\";\r\n        icon.classList.toggle(\"ion-md-menu\");\r\n        icon.classList.toggle(\"ion-md-close\");\r\n    }\r\n\r\n    modal.classList.toggle('show-modal');\r\n    if(!firstRun){\r\n        slides[slideIdx-1].classList.remove('active');\r\n        dots[slideIdx-1].classList.remove('dot-active');\r\n        slideIdx = 1;\r\n        firstRun = true;\r\n        return;\r\n    }\r\n    firstRun = false; \r\n}\r\n\r\nfunction fillModalImg(imgPath){\r\n    let imgArr = imgPath.split(\".\");\r\n    let imgArr2 = imgArr[2].split(\"/\");\r\n    let imgName = imgArr2[3].slice(0, -1);\r\n    let img1 = `app/img/${imgName}1.${imgArr[3]}`;\r\n    let img2 = `app/img/${imgName}2.${imgArr[3]}`;\r\n    let img3 = `app/img/${imgName}3.${imgArr[3]}`;\r\n\r\n    const imgModal1 = document.getElementById('mPic1');\r\n    const imgModal2 = document.getElementById('mPic2');\r\n    const imgModal3 = document.getElementById('mPic3');\r\n\r\n    imgModal1.src = img1;\r\n    imgModal2.src = img2;\r\n    imgModal3.src = img3;\r\n\r\n}\r\n\r\nfunction modalArrows(direction) {\r\n    displayModal(slideIdx += direction);\r\n}\r\n\r\nfunction modalSelect(selection){\r\n    slideIdx = selection;\r\n    displayModal(selection);\r\n}\r\n\r\nfunction displayModal(idx){\r\n\r\n    if(idx > slides.length){\r\n        slideIdx = 1;\r\n    }\r\n    if(idx == 0){ slideIdx = slides.length;}\r\n    for (i = 0; i < slides.length; i++){\r\n        if(slides[i].classList.contains('active')){\r\n            slides[i].classList.remove('active');\r\n            slides[slideIdx-1].classList.add('active');\r\n            dots[i].classList.remove('dot-active');\r\n            dots[slideIdx-1].classList.add('dot-active');\r\n            return;\r\n        }\r\n    }\r\n}\r\n"]}